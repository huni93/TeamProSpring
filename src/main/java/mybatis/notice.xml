<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace = "notice">
<insert id="insertNotice" parameterType="notice">
    INSERT INTO anotice (num, name, pass, subject, content, file1, regdate, readcnt, boardid)
    VALUES (anoticeseq.nextval, #{name}, #{pass}, #{subject}, #{content}, #{file1}, sysdate, 0, #{boardid})
</insert>

<select id = "noticeList" parameterType="map" resultType="notice">
select * from( 
                select rownum rnum, a.* from(
         		 select * from anotice where boardid = #{boardid}
         		order by num desc) a)
         		 where rnum between #{start} and #{end}

</select>

<select id = "noticeCount" resultType="int" parameterType="string">

select nvl (count(*),0) from anotice where boardid = #{boardid}

</select>

<select id = "oneNotice"  parameterType ="int" resultType="notice" >

select * from anotice where num = #{num}


</select>

<update id="updateNotice" parameterType="notice">


update anotice set name=#{name},subject=#{subject},content=#{content},file1=#{file1} where num =#{num}

 </update>
 
 <delete id="noticeDelete" parameterType="int">
 
 delete from anotice where num =#{num}
 
 </delete>
 


</mapper>